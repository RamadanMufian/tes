<!-- Versi HTML yang sudah dibersihkan, lebih rapi, lebih terstruktur, dan mudah dikembangkan -->
<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Es Jeruk - UMKM</title>

  <!-- ======================= STYLES ======================= -->
  <style>
    :root {
      --accent: #ff8a00;
      --bg: #fff8ef;
      --card: #ffffff;
      --muted: #666;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: Inter, system-ui, Segoe UI, Roboto, Arial;
      background: linear-gradient(180deg, #fff 0%, var(--bg) 100%);
      color: #222;
    }

    header {
      background: var(--accent);
      color: #fff;
      padding: 20px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .brand { display: flex; align-items: center; gap: 12px; }
    .logo {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      color: var(--accent);
    }

    nav { display: flex; gap: 10px; }
    nav button {
      background: transparent;
      border: 2px solid white;
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
    }

    .container {
      max-width: 1100px;
      margin: 28px auto;
      padding: 0 16px;
    }

    /* HERO */
    .hero {
      display: flex;
      gap: 24px;
      align-items: center;
    }
    .hero-left, .hero-right { flex: 1; }
    .hero-right img {
      border-radius: 12px;
      max-width: 100%;
    }

    .btn {
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 12px 18px;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
    }
    .btn.ghost {
      background: transparent;
      border: 2px solid var(--accent);
      color: var(--accent);
    }

    /* GRID PRODUK */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 18px;
      margin-top: 20px;
    }

    .card {
      background: var(--card);
      padding: 12px;
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0,0,0,.06);
    }
    .card img {
      width: 100%;
      height: 160px;
      object-fit: cover;
      border-radius: 8px;
    }

    .price {
      font-weight: 700;
      color: var(--accent);
      margin-top: 6px;
    }

    /* MODAL */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.4);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .modal .dialog {
      width: 100%;
      max-width: 520px;
      background: #fff;
      padding: 18px;
      border-radius: 12px;
    }

    /* RESPONSIVE */
    @media(max-width:720px){
      .hero { flex-direction: column; }
      .hero-right { text-align: left; }
    }
  </style>
</head>

<body>

  <!-- ======================= HEADER ======================= -->
  <header>
    <div class="brand">
      <div class="logo">EJ</div>
      <div>
        <div style="font-weight:800;font-size:18px">Es Jeruk</div>
        <div class="slogan">Segar, Murah, Cepat!</div>
      </div>
    </div>

    <nav>
      <button id="btn-menu">Lihat Menu</button>
      <button id="btn-order" class="btn">Pesan Sekarang</button>
    </nav>
  </header>

  <main class="container">
    <!-- ======================= HERO ======================= -->
    <section class="hero">
      <div class="hero-left">
        <h1 style="margin:0;font-size:28px">Minuman Segar dari UMKM Es Jeruk</h1>
        <p class="note">Nikmati es jeruk dan lemon segar, dibuat dari jeruk asli setiap hari. Pesan mudah lewat WhatsApp.</p>
        <div class="cta">
          <button id="cta-menu" class="btn">Lihat Menu</button>
          <button id="cta-order" class="btn ghost">Pesan via WhatsApp</button>
        </div>
      </div>

      <div class="hero-right">
        <img src="https://via.placeholder.com/360x240?text=Es+Jeruk" alt="es jeruk" />
      </div>
    </section>

    <!-- ======================= MENU PRODUK ======================= -->
    <section style="margin-top:28px" id="menu">
      <h2>Menu Produk</h2>
      <div id="product-grid" class="grid"></div>
    </section>

    <!-- ======================= REVIEW ======================= -->
    <section style="margin-top:28px">
      <h2>Ulasan Pelanggan</h2>

      <div class="card" style="padding:14px">
        <form id="review-form">
          <label>Nama</label>
          <input type="text" id="rv-name" required placeholder="Nama Anda" />

          <label>Ulasan</label>
          <textarea id="rv-text" rows="3" required placeholder="Bagaimana rasanya?"></textarea>

          <div style="margin-top:8px;text-align:right">
            <button class="btn" type="submit">Kirim Ulasan</button>
          </div>
        </form>
      </div>

      <div class="card reviews" id="reviews-list" style="margin-top:12px"></div>
    </section>

    <!-- ======================= PROFIL USAHA ======================= -->
    <section style="margin-top:28px">
      <h2>Profil Usaha</h2>
      <div class="card" style="padding:16px">
        <p><strong>Sejarah singkat:</strong> UMKM Es Jeruk berdiri untuk menyediakan minuman segar dan terjangkau bagi warga Bengkulu.</p>
        <p><strong>Visi:</strong> Menjadi pilihan minuman segar favorit masyarakat lokal.</p>
        <p><strong>Misi:</strong> Menyajikan minuman berkualitas, pelayanan cepat, serta harga terjangkau.</p>
        <p><strong>Keunggulan:</strong> Jeruk asli, tanpa pengawet, harga ekonomis, dan bisa dipesan online.</p>
      </div>
    </section>

    <!-- ======================= KONTAK ======================= -->
    <section style="margin-top:28px">
      <h2>Kontak & Lokasi</h2>
      <div class="card" style="padding:16px">
        <p><strong>Alamat:</strong> Jalan WR Supratman, Muara Bangkahulu, Kota Bengkulu</p>
        <p><strong>Nomor WhatsApp:</strong> <span id="wa-number-display">+62XXXXXXXXXXX</span></p>
        <p><strong>Jam operasional:</strong> 09:00 – 21:00</p>

        <div style="margin-top:8px">
          <iframe title="maps" src="https://www.google.com/maps?q=Jalan+WR+Supratman+Bengkulu&output=embed" width="100%" height="260" style="border:0;border-radius:8px"></iframe>
        </div>
      </div>
    </section>

    <!-- ======================= FOOTER ======================= -->
    <footer>
      <div class="flex" style="justify-content:space-between;align-items:center">
        <div>
          <strong>Es Jeruk</strong><br>
          <span class="small">Segar, Murah, Cepat!</span>
        </div>

        <div class="small">© <span id="year"></span> UMKM Es Jeruk</div>
      </div>
    </footer>
  </main>

  <!-- ======================= MODAL PRODUK ======================= -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="dialog">
      <div style="display:flex;justify-content:space-between;align-items:center">
        <strong id="m-title">Produk</strong>
        <button id="m-close" class="btn ghost">Tutup</button>
      </div>

      <div style="margin-top:12px">
        <img id="m-img" src="" style="width:100%;height:200px;object-fit:cover;border-radius:8px" />
        <p id="m-desc" class="note" style="margin-top:8px"></p>

        <div class="row" style="margin-top:8px; display:flex; gap:10px;">
          <div style="flex:1">
            <label>Catatan tambahan</label>
            <input type="text" id="m-note" placeholder="Misal: tanpa gula, sedikit es" />
          </div>

          <div style="width:140px">
            <label>Jumlah</label>
            <select id="m-qty">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
            </select>
          </div>
        </div>

        <div style="display:flex;gap:8px;margin-top:12px">
          <button id="m-whatsapp" class="btn">Pesan via WhatsApp</button>
          <div id="m-price" style="margin-left:auto;color:var(--muted);align-self:center">Rp 0</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ======================= SCRIPT ======================= -->
  <script>
    const WA_NUMBER = "+6281234567890";
    const BUSINESS_NAME = "Es Jeruk";

    document.getElementById('year').textContent = new Date().getFullYear();
    document.getElementById('wa-number-display').textContent = WA_NUMBER;

    const PRODUCTS = [
      {
        id: 'es-lemon',
        name: 'Es Lemon',
        price: 5000,
        desc: 'Minuman lemon segar dengan rasa asam manis menyegarkan.',
        img: 'https://via.placeholder.com/600x400?text=Es+Lemon'
      },
      {
        id: 'es-jeruk',
        name: 'Es Jeruk Manis',
        price: 5000,
        desc: 'Jeruk peras asli, manis alami, disajikan dingin.',
        img: 'https://via.placeholder.com/600x400?text=Es+Jeruk+Manis'
      }
    ];

    /* Render Produk */
    const grid = document.getElementById('product-grid');
    PRODUCTS.forEach(p => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <img src="${p.img}" alt="${p.name}" />
        <div style="margin-top:8px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <strong>${p.name}</strong>
            <div class="price">Rp ${p.price.toLocaleString('id-ID')}</div>
          </div>
          <div class="note">${p.desc}</div>
          <div style="margin-top:8px;text-align:right">
            <button class="btn" data-id="${p.id}">Pesan</button>
          </div>
        </div>`;

      grid.appendChild(card);
    });

    /* Modal / Order Logic */
    const modal = document.getElementById('modal');
    const mClose = document.getElementById('m-close');
    const mTitle = document.getElementById('m-title');
    const mImg = document.getElementById('m-img');
    const mDesc = document.getElementById('m-desc');
    const mNote = document.getElementById('m-note');
    const mQty = document.getElementById('m-qty');
    const mPrice = document.getElementById('m-price');
    const mWhatsapp = document.getElementById('m-whatsapp');

    let currentProduct = null;

    function openProduct(id) {
      const p = PRODUCTS.find(x => x.id === id);
      if (!p) return;

      currentProduct = p;
      mTitle.textContent = p.name;
      mImg.src = p.img;
      mDesc.textContent = p.desc;
      mNote.value = '';
      mQty.value = '1';
      mPrice.textContent = 'Rp ' + p.price.toLocaleString('id-ID');

      modal.style.display = 'flex';
    }

    grid.addEventListener('click', e => {
      const btn = e.target.closest('button');
      if (!btn) return;

      const id = btn.dataset.id;
      if (id) openProduct(id);
    });

    mClose.addEventListener('click', () => {
      modal.style.display = 'none';
    });

    modal.addEventListener('click', e => {
      if (e.target === modal) modal.style.display = 'none';
    });

    mQty.addEventListener('change', () => {
      if (!currentProduct) return;
      const qty = Number(mQty.value) || 1;
      const total = qty * currentProduct.price;
      mPrice.textContent = 'Rp ' + total.toLocaleString('id-ID');
    });

    function openWhatsApp(product, qty, note) {
      const total = qty * product.price;

      const message = [
        `Halo, saya ingin pesan dari ${BUSINESS_NAME}`,
        `Produk: ${product.name} x${qty}`,
        `Harga: Rp ${total.toLocaleString('id-ID')}`,
        note ? `Catatan: ${note}` : ''
      ].filter(Boolean).join('\n');

      const phone = WA_NUMBER.replace(/\D/g, '');
      const url = `https://wa.me/${phone}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank');
    }

    mWhatsapp.addEventListener('click', () => {
      const qty = Number(mQty.value) || 1;
      const note = mNote.value.trim();
      openWhatsApp(currentProduct, qty, note);
    });

    /* Tombol Navigasi */
    document.getElementById('btn-menu').addEventListener('click', () => location.hash = '#menu');
    document.getElementById('cta-menu').addEventListener('click', () => location.hash = '#menu');
    document.getElementById('btn-order').addEventListener('click', () => location.hash = '#menu');
    document.getElementById('cta-order').addEventListener('click', () => openProduct(PRODUCTS[0].id));

    /* Review System */
    const REV_KEY = 'esjeruk_reviews_v1';

    function loadReviews() {
      try {
        const data = localStorage.getItem(REV_KEY);
        return data ? JSON.parse(data) : [];
      } catch {
        return [];
      }
    }

    function saveReviews(arr) {
      localStorage.setItem(REV_KEY, JSON.stringify(arr));
    }

    function escapeHtml(str) {
      return ('' + str).replace(/[&<>"']/g, c => ({
        '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;'
      })[c]);
    }

    function renderReviews() {
      const list = document.getElementById('reviews-list');
      const data = loadReviews();

      if (data.length === 0) {
        list.innerHTML = '<div class="small">Belum ada ulasan. Jadilah yang pertama!</div>';
        return;
      }

      list.innerHTML = '';

      [...data].reverse().forEach(r => {
        const item = document.createElement('div');
        item.className = 'review';
        item.innerHTML = `
          <strong>${escapeHtml(r.name)}</strong>
          <div class="small">${new Date(r.t).toLocaleString()}</div>
          <div style="margin-top:6px">${escapeHtml(r.text)}</div>
        `;
        list.appendChild(item);
      });
    }

    document.getElementById('review-form').addEventListener('submit', e => {
      e.preventDefault();

      const name = document.getElementById('rv-name').value.trim();
      const text = document.getElementById('rv-text').value.trim();

      if (!name || !text)
        return alert('Isi nama dan ulasan');

      const data = loadReviews();
      data.push({ name, text, t: Date.now() });
      saveReviews(data);
      renderReviews();

      document.getElementById('rv-name').value = '';
      document.getElementById('rv-text').value = '';
    });

    renderReviews();
  </script>
</body>
</html>
